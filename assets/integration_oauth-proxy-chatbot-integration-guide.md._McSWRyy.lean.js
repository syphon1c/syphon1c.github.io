import{_ as r,C as E,o as a,c as d,ah as h,b as e,w as i,a as n,E as l,ai as k,j as p}from"./chunks/framework.504LQ1l3.js";const B=JSON.parse('{"title":"OAuth Proxy Integration Guide for Chatbot Developers","description":"","frontmatter":{},"headers":[],"relativePath":"integration/oauth-proxy-chatbot-integration-guide.md","filePath":"integration/oauth-proxy-chatbot-integration-guide.md"}'),g={name:"integration/oauth-proxy-chatbot-integration-guide.md"};function o(y,s,F,c,u,C){const t=E("Mermaid");return a(),d("div",null,[s[4]||(s[4]=h("",22)),(a(),e(k,null,{default:i(()=>[l(t,{id:"mermaid-215",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22Your%20Chatbot%20Application%22%0A%20%20%20%20%20%20%20%20User%5BUser%5D%0A%20%20%20%20%20%20%20%20Chatbot%5BChatbot%20Frontend%2FBackend%5D%0A%20%20%20%20%20%20%20%20TokenStore%5B(Token%20Storage)%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22AI%20Security%20Gateway%22%0A%20%20%20%20%20%20%20%20OAuthProxy%5BOAuth%20Proxy%20Service%5D%0A%20%20%20%20%20%20%20%20TokenManager%5BToken%20Manager%5D%0A%20%20%20%20%20%20%20%20MCPProxy%5BMCP%20Proxy%5D%0A%20%20%20%20%20%20%20%20EncryptedStore%5B(Encrypted%20Token%20Store)%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22External%20Services%22%0A%20%20%20%20%20%20%20%20OAuthProvider%5BOAuth%20Provider%3Cbr%2F%3EOkta%2FGoogle%2FGitHub%5D%0A%20%20%20%20%20%20%20%20MCPServer%5BMCP%20Server%3Cbr%2F%3EAtlassian%2FGitHub%2Fetc%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20User%20--%3E%7C1.%20Enable%20Integration%7C%20Chatbot%0A%20%20%20%20Chatbot%20--%3E%7C2.%20OAuth%20Flow%7C%20OAuthProxy%0A%20%20%20%20OAuthProxy%20--%3E%7C3.%20Redirect%7C%20OAuthProvider%0A%20%20%20%20OAuthProvider%20--%3E%7C4.%20Auth%20Code%7C%20OAuthProxy%0A%20%20%20%20OAuthProxy%20--%3E%7C5.%20Exchange%7C%20OAuthProvider%0A%20%20%20%20OAuthProvider%20--%3E%7C6.%20Tokens%7C%20TokenManager%0A%20%20%20%20TokenManager%20--%3E%7C7.%20Store%20Encrypted%7C%20EncryptedStore%0A%20%20%20%20OAuthProxy%20--%3E%7C8.%20Gateway%20JWT%7C%20Chatbot%0A%20%20%20%20Chatbot%20--%3E%7C9.%20Store%7C%20TokenStore%0A%20%20%20%20Chatbot%20--%3E%7C10.%20Request%20%2B%20JWT%7C%20MCPProxy%0A%20%20%20%20MCPProxy%20--%3E%7C11.%20Lookup%20Token%7C%20TokenManager%0A%20%20%20%20TokenManager%20--%3E%7C12.%20Decrypt%7C%20EncryptedStore%0A%20%20%20%20MCPProxy%20--%3E%7C13.%20Inject%20Token%7C%20MCPServer%0A%20%20%20%20MCPServer%20--%3E%7C14.%20Response%7C%20MCPProxy%0A%20%20%20%20MCPProxy%20--%3E%7C15.%20Forward%7C%20Chatbot%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[n(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=h("",3)),(a(),e(k,null,{default:i(()=>[l(t,{id:"mermaid-284",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20User%0A%20%20%20%20participant%20Chatbot%0A%20%20%20%20participant%20Gateway%20as%20AI%20Security%20Gateway%0A%20%20%20%20participant%20Provider%20as%20OAuth%20Provider%0A%20%20%20%20participant%20MCPServer%20as%20MCP%20Server%0A%0A%20%20%20%20Note%20over%20User%2CMCPServer%3A%20Initial%20Setup%20(One-Time)%0A%20%20%20%20Chatbot-%3E%3EGateway%3A%201.%20Register%20OAuth%20Client%20(DCR)%0A%20%20%20%20Gateway--%3E%3EChatbot%3A%20client_id%2C%20client_secret%0A%0A%20%20%20%20Note%20over%20User%2CMCPServer%3A%20User%20Enables%20Integration%0A%20%20%20%20User-%3E%3EChatbot%3A%202.%20Click%20%22Enable%20Integration%22%0A%20%20%20%20Chatbot-%3E%3EGateway%3A%203.%20Redirect%20to%20%2Foauth-proxy%2F%7Bid%7D%2Fauthorize%0A%20%20%20%20Gateway-%3E%3EUser%3A%204.%20Redirect%20to%20OAuth%20Provider%0A%20%20%20%20User-%3E%3EProvider%3A%205.%20Authenticate%0A%20%20%20%20Provider-%3E%3EGateway%3A%206.%20Callback%20with%20auth%20code%0A%20%20%20%20Gateway-%3E%3EProvider%3A%207.%20Exchange%20code%20for%20tokens%0A%20%20%20%20Provider--%3E%3EGateway%3A%208.%20Access%20%2B%20Refresh%20tokens%0A%20%20%20%20Gateway-%3E%3EGateway%3A%209.%20Store%20tokens%20encrypted%3Cbr%2F%3E(linked%20to%20Gateway%20session)%0A%20%20%20%20Gateway-%3E%3EChatbot%3A%2010.%20Redirect%20with%20Gateway%20auth%20code%0A%20%20%20%20Chatbot-%3E%3EGateway%3A%2011.%20Exchange%20code%20for%20Gateway%20JWT%0A%20%20%20%20Gateway--%3E%3EChatbot%3A%2012.%20Gateway%20JWT%0A%20%20%20%20Chatbot-%3E%3EChatbot%3A%2013.%20Store%20Gateway%20JWT%3Cbr%2F%3E(simple%20string%2C%20no%20refresh!)%0A%0A%20%20%20%20Note%20over%20User%2CMCPServer%3A%20Ongoing%20Usage%0A%20%20%20%20User-%3E%3EChatbot%3A%2014.%20Use%20integration%20features%0A%20%20%20%20Chatbot-%3E%3EGateway%3A%2015.%20Request%20with%20Gateway%20JWT%0A%20%20%20%20Gateway-%3E%3EGateway%3A%2016.%20Validate%20JWT%3Cbr%2F%3ELookup%20upstream%20token%0A%20%20%20%20Gateway-%3E%3EMCPServer%3A%2017.%20Forward%20request%3Cbr%2F%3Ewith%20upstream%20token%0A%20%20%20%20MCPServer--%3E%3EGateway%3A%2018.%20MCP%20response%0A%20%20%20%20Gateway--%3E%3EChatbot%3A%2019.%20Forward%20response%0A%0A%20%20%20%20Note%20over%20User%2CMCPServer%3A%20Automatic%20Token%20Refresh%0A%20%20%20%20Gateway-%3E%3EGateway%3A%2020.%20Detect%20token%20expiry%0A%20%20%20%20Gateway-%3E%3EProvider%3A%2021.%20Refresh%20using%20refresh%20token%0A%20%20%20%20Provider--%3E%3EGateway%3A%2022.%20New%20tokens%0A%20%20%20%20Gateway-%3E%3EGateway%3A%2023.%20Update%20stored%20tokens%3Cbr%2F%3E(transparent%20to%20Chatbot)%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[n(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=h("",59)),(a(),e(k,null,{default:i(()=>[l(t,{id:"mermaid-582",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20Chatbot%0A%20%20%20%20participant%20Gateway%0A%20%20%20%20participant%20Provider%20as%20OAuth%20Provider%0A%20%20%20%20participant%20MCPServer%20as%20MCP%20Server%0A%0A%20%20%20%20Chatbot-%3E%3EGateway%3A%20Request%20with%20Gateway%20JWT%0A%20%20%20%20Gateway-%3E%3EGateway%3A%20Validate%20JWT%0A%20%20%20%20Gateway-%3E%3EGateway%3A%20Lookup%20upstream%20token%0A%20%20%20%20Gateway-%3E%3EGateway%3A%20Check%20token%20expiry%0A%20%20%20%20%0A%20%20%20%20alt%20Token%20Valid%0A%20%20%20%20%20%20%20%20Gateway-%3E%3EMCPServer%3A%20Forward%20request%20with%20token%0A%20%20%20%20%20%20%20%20MCPServer--%3E%3EGateway%3A%20Response%0A%20%20%20%20%20%20%20%20Gateway--%3E%3EChatbot%3A%20Forward%20response%0A%20%20%20%20else%20Token%20Expired%0A%20%20%20%20%20%20%20%20Gateway-%3E%3EProvider%3A%20Refresh%20token%20(using%20refresh_token)%0A%20%20%20%20%20%20%20%20Provider--%3E%3EGateway%3A%20New%20access%20%2B%20refresh%20tokens%0A%20%20%20%20%20%20%20%20Gateway-%3E%3EGateway%3A%20Update%20stored%20tokens%0A%20%20%20%20%20%20%20%20Gateway-%3E%3EMCPServer%3A%20Forward%20request%20with%20new%20token%0A%20%20%20%20%20%20%20%20MCPServer--%3E%3EGateway%3A%20Response%0A%20%20%20%20%20%20%20%20Gateway--%3E%3EChatbot%3A%20Forward%20response%0A%20%20%20%20end%0A"})]),fallback:i(()=>[...s[2]||(s[2]=[n(" Loading... ",-1)])]),_:1})),s[7]||(s[7]=p("h3",{id:"token-storage-architecture",tabindex:"-1"},[n("Token Storage Architecture "),p("a",{class:"header-anchor",href:"#token-storage-architecture","aria-label":'Permalink to "Token Storage Architecture"'},"â€‹")],-1)),(a(),e(k,null,{default:i(()=>[l(t,{id:"mermaid-586",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22Gateway%20Database%22%0A%20%20%20%20%20%20%20%20TokenMapping%5BToken%20Mapping%3Cbr%2F%3EJTI%20%E2%86%92%20Upstream%20Token%20ID%5D%0A%20%20%20%20%20%20%20%20UpstreamTokens%5BUpstream%20Tokens%3Cbr%2F%3EEncrypted%20Access%2FRefresh%5D%0A%20%20%20%20%20%20%20%20GatewaySession%5BGateway%20Session%3Cbr%2F%3EUser%20Attribution%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22Your%20Chatbot%22%0A%20%20%20%20%20%20%20%20UserToken%5BUser%20Token%20Storage%3Cbr%2F%3EGateway%20JWT%20only%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20GatewayJWT%5BGateway%20JWT%3Cbr%2F%3EIssued%20to%20Chatbot%5D%20--%3E%7CContains%20JTI%7C%20TokenMapping%0A%20%20%20%20TokenMapping%20--%3E%7CLinks%20to%7C%20UpstreamTokens%0A%20%20%20%20TokenMapping%20--%3E%7CLinks%20to%7C%20GatewaySession%0A%20%20%20%20UserToken%20--%3E%7CStores%7C%20GatewayJWT%0A%20%20%20%20%0A%20%20%20%20style%20GatewayJWT%20fill%3A%23e1f5ff%0A%20%20%20%20style%20UpstreamTokens%20fill%3A%23fff4e1%0A%20%20%20%20style%20UserToken%20fill%3A%23e8f5e9%0A"})]),fallback:i(()=>[...s[3]||(s[3]=[n(" Loading... ",-1)])]),_:1})),s[8]||(s[8]=h("",93))])}const D=r(g,[["render",o]]);export{B as __pageData,D as default};
