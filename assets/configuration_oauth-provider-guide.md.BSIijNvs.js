import{_ as t,o as i,c as a,ah as o}from"./chunks/framework.504LQ1l3.js";const r="/assets/oauth-provider-dashboard-01.2q5LRiME.png",s="/assets/oauth-provider-setup-01.CahXYM3S.png",l="/assets/oauth-provider-enabled-01.DxpdXfJx.png",n="/assets/oauth-users-list.Btzl1H9-.png",v=JSON.parse('{"title":"OAuth Provider Setup Guide","description":"","frontmatter":{},"headers":[],"relativePath":"configuration/oauth-provider-guide.md","filePath":"configuration/oauth-provider-guide.md"}'),u={name:"configuration/oauth-provider-guide.md"};function h(p,e,c,d,g,m){return i(),a("div",null,[...e[0]||(e[0]=[o('<h1 id="oauth-provider-setup-guide" tabindex="-1">OAuth Provider Setup Guide <a class="header-anchor" href="#oauth-provider-setup-guide" aria-label="Permalink to &quot;OAuth Provider Setup Guide&quot;">​</a></h1><p>This guide walks you through setting up OAuth providers in the AI Security Gateway to enable user authentication.</p><p><img src="'+r+'" alt="OAuth Provider Dashboard"></p><h2 id="what-is-an-oauth-provider" tabindex="-1">What is an OAuth Provider? <a class="header-anchor" href="#what-is-an-oauth-provider" aria-label="Permalink to &quot;What is an OAuth Provider?&quot;">​</a></h2><p>An OAuth provider allows users to authenticate using their existing accounts (GitHub, Google, Okta, etc.) instead of maintaining separate credentials in the Gateway. Once configured, users can log in through their organization&#39;s identity provider.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li>AI Security Gateway running at <a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a></li><li>Admin access to the web interface</li><li>An OAuth application registered with your chosen provider (GitHub, Google, Okta, etc.)</li></ul><h2 id="step-1-choose-your-oauth-provider" tabindex="-1">Step 1: Choose Your OAuth Provider <a class="header-anchor" href="#step-1-choose-your-oauth-provider" aria-label="Permalink to &quot;Step 1: Choose Your OAuth Provider&quot;">​</a></h2><p>The Gateway supports multiple OAuth providers:</p><p><strong>Development/Testing</strong>:</p><ul><li>GitHub - Easy setup, great for developers</li><li>Google - Simple OAuth implementation</li></ul><p><strong>Enterprise</strong>:</p><ul><li>Okta - Enterprise identity management</li><li>Azure AD / Entra ID - Microsoft integration</li><li>Auth0 - Universal authentication</li><li>Keycloak - Self-hosted identity server</li><li>GitLab - Self-hosted or cloud</li></ul><h2 id="step-2-register-application-with-provider" tabindex="-1">Step 2: Register Application with Provider <a class="header-anchor" href="#step-2-register-application-with-provider" aria-label="Permalink to &quot;Step 2: Register Application with Provider&quot;">​</a></h2><p>You need to create an OAuth application with your chosen provider. Here&#39;s how for common providers:</p><h3 id="github" tabindex="-1">GitHub <a class="header-anchor" href="#github" aria-label="Permalink to &quot;GitHub&quot;">​</a></h3><ol><li>Navigate to <strong>GitHub Settings → Developer Settings → OAuth Apps</strong></li><li>Click <strong>&quot;New OAuth App&quot;</strong></li><li>Fill in: <ul><li><strong>Application name</strong>: AI Security Gateway</li><li><strong>Homepage URL</strong>: <a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a></li><li><strong>Authorization callback URL</strong>: <code>http://localhost:8080/api/v1/oauth/callback</code></li></ul></li><li>Click <strong>&quot;Register application&quot;</strong></li><li>Copy the <strong>Client ID</strong> and generate a <strong>Client Secret</strong></li></ol><h3 id="google" tabindex="-1">Google <a class="header-anchor" href="#google" aria-label="Permalink to &quot;Google&quot;">​</a></h3><ol><li>Open <a href="https://console.cloud.google.com" target="_blank" rel="noreferrer">Google Cloud Console</a></li><li>Navigate to <strong>APIs &amp; Services → Credentials</strong></li><li>Click <strong>&quot;Create Credentials&quot; → &quot;OAuth 2.0 Client ID&quot;</strong></li><li>Configure consent screen if prompted</li><li>Select <strong>&quot;Web application&quot;</strong></li><li>Add redirect URI: <code>http://localhost:8080/api/v1/oauth/callback</code></li><li>Copy the <strong>Client ID</strong> and <strong>Client Secret</strong></li></ol><h3 id="okta" tabindex="-1">Okta <a class="header-anchor" href="#okta" aria-label="Permalink to &quot;Okta&quot;">​</a></h3><ol><li>Open Okta Admin Console</li><li>Navigate to <strong>Applications → Applications</strong></li><li>Click <strong>&quot;Create App Integration&quot;</strong></li><li>Select <strong>&quot;OIDC - OpenID Connect&quot; → &quot;Web Application&quot;</strong></li><li>Set redirect URI: <code>http://localhost:8080/api/v1/oauth/callback</code></li><li>Set scopes: <code>openid</code>, <code>profile</code>, <code>email</code></li><li>Copy the <strong>Client ID</strong> and <strong>Client Secret</strong></li></ol><h2 id="step-3-add-provider-in-gateway" tabindex="-1">Step 3: Add Provider in Gateway <a class="header-anchor" href="#step-3-add-provider-in-gateway" aria-label="Permalink to &quot;Step 3: Add Provider in Gateway&quot;">​</a></h2><h3 id="using-the-web-interface" tabindex="-1">Using the Web Interface <a class="header-anchor" href="#using-the-web-interface" aria-label="Permalink to &quot;Using the Web Interface&quot;">​</a></h3><ol><li>Navigate to <strong>OAuth Access → OAuth Providers</strong></li><li>Click <strong>&quot;Add OAuth Provider&quot;</strong> button</li><li>Select <strong>&quot;Use Template&quot;</strong> tab (recommended)</li></ol><p><img src="'+s+'" alt="OAuth Provider Templates"></p><ol start="4"><li><p>Choose your provider from the dropdown:</p><ul><li>Example: &quot;GitHub - GitHub OAuth 2.0 authentication&quot;</li><li>Setup instructions appear automatically</li></ul></li><li><p>Fill in the form:</p><ul><li><strong>Display Name</strong>: e.g., &quot;Corporate GitHub&quot;</li><li><strong>Client ID</strong>: Paste from Step 2</li><li><strong>Client Secret</strong>: Paste from Step 2 (encrypted at rest)</li><li><strong>Redirect URI</strong>: Pre-filled as <code>http://localhost:8080/api/v1/oauth/callback</code></li><li><strong>Scopes</strong>: Auto-filled from template</li></ul></li></ol><p><img src="'+l+'" alt="OAuth Provider Data"></p><ol start="6"><li>Click <strong>&quot;Create Provider&quot;</strong></li><li>Provider appears in the list with status &quot;Enabled&quot;</li></ol><p><strong>Important</strong>: The Gateway uses a single callback URL for all providers:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://localhost:8080/api/v1/oauth/callback</span></span></code></pre></div><p>The Gateway automatically routes callbacks to the correct provider using internal state management. You don&#39;t need to add provider IDs or query parameters.</p><p><strong>For production</strong>: Replace <code>localhost:8080</code> with your domain:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://gateway.company.com/api/v1/oauth/callback</span></span></code></pre></div><h2 id="step-4-test-oauth-authentication" tabindex="-1">Step 4: Test OAuth Authentication <a class="header-anchor" href="#step-4-test-oauth-authentication" aria-label="Permalink to &quot;Step 4: Test OAuth Authentication&quot;">​</a></h2><h3 id="view-provider-status" tabindex="-1">View Provider Status <a class="header-anchor" href="#view-provider-status" aria-label="Permalink to &quot;View Provider Status&quot;">​</a></h3><ol><li>Navigate to <strong>OAuth Access → OAuth Providers</strong></li><li>Your provider should show: <ul><li>Status badge: <strong>&quot;Enabled&quot;</strong></li><li>Active Sessions: <strong>0</strong> (no users yet)</li><li>Redirect URI with copy button</li></ul></li></ol><h3 id="view-authenticated-users" tabindex="-1">View Authenticated Users <a class="header-anchor" href="#view-authenticated-users" aria-label="Permalink to &quot;View Authenticated Users&quot;">​</a></h3><p>Once users start accessing proxies via authenticated sessions you will the user list populate:</p><ol><li>Navigate to <strong>OAuth Access → OAuth Users</strong></li><li>After users authenticate, they appear with: <ul><li>Provider badge</li><li>Email address</li><li>Last login timestamp</li><li>User group assignment</li></ul></li></ol><p><img src="'+n+`" alt="OAuth Provider Users"></p><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><h3 id="enable-oauth-on-proxies" tabindex="-1">Enable OAuth on Proxies <a class="header-anchor" href="#enable-oauth-on-proxies" aria-label="Permalink to &quot;Enable OAuth on Proxies&quot;">​</a></h3><p>Now that your OAuth provider is configured, you can enable user authentication on your proxies. See the <a href="./oauth-proxy-guide.html">OAuth Proxy Guide</a> for:</p><ul><li>Enabling OAuth authentication on MCP/LLM proxies</li><li>Configuring Dynamic Client Registration for MCP clients</li><li>Setting up user group assignments</li><li>Managing OAuth sessions per proxy</li></ul><h3 id="manage-oauth-users" tabindex="-1">Manage OAuth Users <a class="header-anchor" href="#manage-oauth-users" aria-label="Permalink to &quot;Manage OAuth Users&quot;">​</a></h3><p>Once users start authenticating:</p><ol><li><strong>View all users</strong>: Navigate to <strong>OAuth Access → OAuth Users</strong></li><li><strong>Assign user groups</strong>: Edit users to assign to teams/departments</li><li><strong>Set permissions</strong>: Configure tool-level permissions per user</li><li><strong>Monitor sessions</strong>: View active sessions per provider</li></ol><h3 id="set-up-user-group-rules" tabindex="-1">Set Up User Group Rules <a class="header-anchor" href="#set-up-user-group-rules" aria-label="Permalink to &quot;Set Up User Group Rules&quot;">​</a></h3><p>Automate user group assignments based on email domains:</p><ol><li>Navigate to <strong>OAuth Access → Group Rules</strong></li><li>Click <strong>&quot;Create Rule&quot;</strong></li><li>Configure: <ul><li><strong>Email Pattern</strong>: <code>*@company.com</code></li><li><strong>User Group</strong>: Engineering Team</li><li><strong>Priority</strong>: 1 (higher priority = evaluated first)</li></ul></li><li>Users matching the pattern automatically join the group</li></ol><p>[Screenshot: Group Rules page with example rule]</p><h2 id="common-provider-configurations" tabindex="-1">Common Provider Configurations <a class="header-anchor" href="#common-provider-configurations" aria-label="Permalink to &quot;Common Provider Configurations&quot;">​</a></h2><h3 id="multiple-providers" tabindex="-1">Multiple Providers <a class="header-anchor" href="#multiple-providers" aria-label="Permalink to &quot;Multiple Providers&quot;">​</a></h3><p>You can configure multiple OAuth providers for different use cases:</p><ul><li><strong>GitHub</strong>: For developer authentication</li><li><strong>Google Workspace</strong>: For corporate email users</li><li><strong>Okta</strong>: For enterprise SSO</li></ul><p>Users can authenticate with any enabled provider.</p><h3 id="production-domains" tabindex="-1">Production Domains <a class="header-anchor" href="#production-domains" aria-label="Permalink to &quot;Production Domains&quot;">​</a></h3><p>For production deployments, update callback URLs in both the Gateway and your OAuth provider:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Development:  http://localhost:8080/api/v1/oauth/callback</span></span>
<span class="line"><span>Production:   https://gateway.company.com/api/v1/oauth/callback</span></span></code></pre></div><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><p><strong>Provider creation fails</strong>:</p><ul><li>Verify Client ID and Client Secret are correct</li><li>Check callback URL matches exactly</li><li>Ensure provider application is active</li></ul><p><strong>Callback fails</strong>:</p><ul><li>Verify callback URL in provider settings matches: <code>http://localhost:8080/api/v1/oauth/callback</code></li><li>Check Gateway logs for specific error messages</li></ul><p><strong>Users can&#39;t authenticate</strong>:</p><ul><li>Ensure provider status is &quot;Enabled&quot;</li><li>Verify user has access in your OAuth provider settings</li><li>Check Gateway logs for authentication errors</li></ul><p>For detailed technical information, see the <a href="./../../technical/development/oauth-proxy-architecture.html">OAuth Technical Documentation</a>.</p><h2 id="related-guides" tabindex="-1">Related Guides <a class="header-anchor" href="#related-guides" aria-label="Permalink to &quot;Related Guides&quot;">​</a></h2><ul><li><a href="./oauth-proxy-guide.html">OAuth Proxy Guide</a> - Enable OAuth on MCP/LLM proxies</li><li><a href="./user-group-management.html">User Group Management</a> - Managing user assignments</li></ul><h2 id="security-notes" tabindex="-1">Security Notes <a class="header-anchor" href="#security-notes" aria-label="Permalink to &quot;Security Notes&quot;">​</a></h2><ul><li>Client secrets are encrypted at rest using AES-256-GCM</li><li>Secrets are never displayed after initial creation</li><li>All OAuth flows use PKCE for enhanced security</li><li>Session tokens are automatically managed by the Gateway</li></ul><p><strong>Note</strong>: Encryption is handled transparently - no manual key management required.</p>`,72)])])}const f=t(u,[["render",h]]);export{v as __pageData,f as default};
